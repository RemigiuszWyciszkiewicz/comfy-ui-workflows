{"id":"0ea60407-51dd-45d3-beee-e521d458e789","revision":0,"last_node_id":55,"last_link_id":76,"nodes":[{"id":18,"type":"MaskToImage","pos":[5205.02978515625,1009.649658203125],"size":[264.5999755859375,26],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":23}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[22]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":19,"type":"PreviewImage","pos":[5611.70703125,1017.417236328125],"size":[210,246],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":22}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":39,"type":"ToDetailerPipe","pos":[4120.1015625,679.6339721679688],"size":[400,296],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":56},{"localized_name":"clip","name":"clip","type":"CLIP","link":58},{"localized_name":"vae","name":"vae","type":"VAE","link":60},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":72},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":74},{"localized_name":"bbox_detector","name":"bbox_detector","type":"BBOX_DETECTOR","link":null},{"localized_name":"sam_model_opt","name":"sam_model_opt","shape":7,"type":"SAM_MODEL","link":76},{"localized_name":"segm_detector_opt","name":"segm_detector_opt","shape":7,"type":"SEGM_DETECTOR","link":null},{"localized_name":"detailer_hook","name":"detailer_hook","shape":7,"type":"DETAILER_HOOK","link":null}],"outputs":[{"localized_name":"detailer_pipe","name":"detailer_pipe","type":"DETAILER_PIPE","links":[59]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"0b1ac0f1c5a395e17065821e4fd47aba3bf23900","Node name for S&R":"ToDetailerPipe"},"widgets_values":["","Select the LoRA to add to the text","Select the Wildcard to add to the text"]},{"id":17,"type":"PreviewImage","pos":[5611.0625,689.9422607421875],"size":[210,246],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":21}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":15,"type":"PreviewImage","pos":[5220.31201171875,642.3776245117188],"size":[210,246],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":19}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":43,"type":"MaskToImage","pos":[6425.96533203125,1075.229248046875],"size":[264.5999755859375,26],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":62}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[63]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":44,"type":"PreviewImage","pos":[6832.642578125,1082.996826171875],"size":[210,246],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":63}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":46,"type":"PreviewImage","pos":[6831.998046875,755.5213012695312],"size":[210,246],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":64}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":42,"type":"PreviewImage","pos":[6441.24755859375,707.9566650390625],"size":[210,246],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":61}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":45,"type":"FaceDetailerPipe","pos":[5863.294921875,637.80908203125],"size":[519,830],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":67},{"localized_name":"detailer_pipe","name":"detailer_pipe","type":"DETAILER_PIPE","link":65},{"localized_name":"scheduler_func_opt","name":"scheduler_func_opt","shape":7,"type":"SCHEDULER_FUNC","link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[66]},{"localized_name":"cropped_refined","name":"cropped_refined","shape":6,"type":"IMAGE","links":[61]},{"localized_name":"cropped_enhanced_alpha","name":"cropped_enhanced_alpha","shape":6,"type":"IMAGE","links":[64]},{"localized_name":"mask","name":"mask","type":"MASK","links":[62]},{"localized_name":"detailer_pipe","name":"detailer_pipe","type":"DETAILER_PIPE","links":[]},{"localized_name":"cnet_images","name":"cnet_images","shape":6,"type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"0b1ac0f1c5a395e17065821e4fd47aba3bf23900","Node name for S&R":"FaceDetailerPipe"},"widgets_values":[768,true,768,729021602472780,"randomize",30,8,"euler","normal",0.5,5,true,true,0.5000000000000001,50,3,"center-1",0,0.9400000000000002,0,0.7,"False",10,0.2,1,false,20,false,false]},{"id":14,"type":"FaceDetailerPipe","pos":[4637.341796875,628.6776733398438],"size":[519,830],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":18},{"localized_name":"detailer_pipe","name":"detailer_pipe","type":"DETAILER_PIPE","link":59},{"localized_name":"scheduler_func_opt","name":"scheduler_func_opt","shape":7,"type":"SCHEDULER_FUNC","link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[31,67]},{"localized_name":"cropped_refined","name":"cropped_refined","shape":6,"type":"IMAGE","links":[19]},{"localized_name":"cropped_enhanced_alpha","name":"cropped_enhanced_alpha","shape":6,"type":"IMAGE","links":[21]},{"localized_name":"mask","name":"mask","type":"MASK","links":[23]},{"localized_name":"detailer_pipe","name":"detailer_pipe","type":"DETAILER_PIPE","links":[65]},{"localized_name":"cnet_images","name":"cnet_images","shape":6,"type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"0b1ac0f1c5a395e17065821e4fd47aba3bf23900","Node name for S&R":"FaceDetailerPipe"},"widgets_values":[768,true,768,116757542778773,"randomize",30,8,"euler","normal",0.5,5,true,true,0.5000000000000001,50,3,"center-1",0,0.9400000000000002,0,1,"False",10,0.2,1,false,20,false,false]},{"id":47,"type":"PreviewImage","pos":[6461.12451171875,481.6783447265625],"size":[210,246],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":66}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":20,"type":"PreviewImage","pos":[5681.9892578125,256.1039123535156],"size":[210,246],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":24}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":26,"type":"PreviewImage","pos":[5900.396484375,248.58578491210938],"size":[210,246],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":31}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":3,"type":"VAELoader","pos":[2649.0439453125,604.8855590820312],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","links":[60]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAELoader"},"widgets_values":["vae-Ft-Mse-840000-Ema-Pruned_vae.safetensors"]},{"id":1,"type":"LoadImage","pos":[2289.4052734375,445.45672607421875],"size":[315,314],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[18,24,69]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_fpdqh_00005_.png","image",""]},{"id":49,"type":"BLIP Model Loader","pos":[2377.294921875,930.6717529296875],"size":[315,106],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"localized_name":"BLIP_MODEL","name":"BLIP_MODEL","type":"BLIP_MODEL","links":[68]}],"properties":{"cnr_id":"was-node-suite-comfyui","ver":"1014f8a1477b8ae0144e16ed4fd6476cd109fb23","Node name for S&R":"BLIP Model Loader"},"widgets_values":["Salesforce/blip-image-captioning-base","Salesforce/blip-vqa-base","cuda"]},{"id":51,"type":"ShowText|pysssss","pos":[3178.22607421875,794.762939453125],"size":[315,58],"flags":{},"order":8,"mode":0,"inputs":[{"name":"text","type":"STRING","widget":{"name":"text"},"link":70}],"outputs":[{"localized_name":"STRING","name":"STRING","shape":6,"type":"STRING","links":[71]}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"9f7b3215e6af317603056a9a1666bf6e83e28835","Node name for S&R":"ShowText|pysssss"},"widgets_values":[""]},{"id":52,"type":"Text to Conditioning","pos":[3603.314208984375,764.7343139648438],"size":[315,58],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":73},{"name":"text","type":"STRING","widget":{"name":"text"},"link":71}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[72]}],"properties":{"cnr_id":"was-node-suite-comfyui","ver":"1014f8a1477b8ae0144e16ed4fd6476cd109fb23","Node name for S&R":"Text to Conditioning"},"widgets_values":[""]},{"id":2,"type":"CheckpointLoaderSimple","pos":[2651.492431640625,462.1616516113281],"size":[315,98],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[56]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[58,73,75]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["Juggernaut-XL_v9_RunDiffusionPhoto_v2.safetensors"]},{"id":50,"type":"BLIP Analyze Image","pos":[2697.893310546875,777.0825805664062],"size":[400,252],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":69},{"localized_name":"blip_model","name":"blip_model","type":"BLIP_MODEL","link":68}],"outputs":[{"localized_name":"FULL_CAPTIONS","name":"FULL_CAPTIONS","type":"STRING","links":[70]},{"localized_name":"CAPTIONS","name":"CAPTIONS","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"was-node-suite-comfyui","ver":"1014f8a1477b8ae0144e16ed4fd6476cd109fb23","Node name for S&R":"BLIP Analyze Image"},"widgets_values":["caption","What does the background consist of?",24,64,5,3,false]},{"id":53,"type":"CLIPTextEncode","pos":[3578.78515625,929.9701538085938],"size":[400,200],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":75}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[74]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":54,"type":"SAMLoader","pos":[3510.81005859375,495.37353515625],"size":[315,82],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"localized_name":"SAM_MODEL","name":"SAM_MODEL","type":"SAM_MODEL","links":[76]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"0b1ac0f1c5a395e17065821e4fd47aba3bf23900","Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]}],"links":[[18,1,0,14,0,"IMAGE"],[19,14,1,15,0,"IMAGE"],[21,14,2,17,0,"IMAGE"],[22,18,0,19,0,"IMAGE"],[23,14,3,18,0,"MASK"],[24,1,0,20,0,"IMAGE"],[31,14,0,26,0,"IMAGE"],[56,2,0,39,0,"MODEL"],[58,2,1,39,1,"CLIP"],[59,39,0,14,1,"DETAILER_PIPE"],[60,3,0,39,2,"VAE"],[61,45,1,42,0,"IMAGE"],[62,45,3,43,0,"MASK"],[63,43,0,44,0,"IMAGE"],[64,45,2,46,0,"IMAGE"],[65,14,4,45,1,"DETAILER_PIPE"],[66,45,0,47,0,"IMAGE"],[67,14,0,45,0,"IMAGE"],[68,49,0,50,1,"BLIP_MODEL"],[69,1,0,50,0,"IMAGE"],[70,50,0,51,0,"STRING"],[71,51,0,52,1,"STRING"],[72,52,0,39,3,"CONDITIONING"],[73,2,1,52,0,"CLIP"],[74,53,0,39,4,"CONDITIONING"],[75,2,1,53,0,"CLIP"],[76,54,0,39,6,"SAM_MODEL"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.9646149645000018,"offset":[-2454.4227951442936,-480.21486948290556]}},"version":0.4}